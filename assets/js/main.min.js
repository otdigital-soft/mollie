"use strict";function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(o){if(Symbol.iterator in Object(o)||"[object Arguments]"===Object.prototype.toString.call(o))return Array.from(o)}function _arrayWithoutHoles(o){if(Array.isArray(o)){for(var i=0,e=new Array(o.length);i<o.length;i++)e[i]=o[i];return e}}!function(r){var i=function(o,i,e){var t=document.querySelector(o);if(document.body.contains(t))try{arguments.length<=2?i():i.apply(void 0,_toConsumableArray(e))}catch(o){console.log(o)}},o=function(o,i,e){jQuery(o).addClass("a-hidden").viewportChecker({classToRemove:"a-hidden",classToAdd:"animated ".concat(i),offset:10,callbackFunction:function(o){e&&o.on("animationend",function(){o.addClass("animation-end")})}})},e={init:function(){this.plugins(),this.initHeader(),this.initBooking(),this.bindEvents(),this.initAnimations()},plugins:function(){jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!1,fakeDropInBody:!1}),jcf.replace(".form-select, .jcf-select")},initHeader:function(){r(".hamburger").on("click",function(){r(".header").toggleClass("is-opened"),r("html").toggleClass("disable-scrolling")});r(window).on("scroll",function(){20<=r(window).scrollTop()?(r(".header").addClass("header--sticky"),r(".sticky-booking-btn").addClass("is-sticky")):(r(".header").removeClass("header--sticky"),r(".sticky-booking-btn").removeClass("is-sticky")),r(window).scrollTop()>=r(".footer").offset().top-r(".footer").outerHeight()?r(".sticky-booking-btn").addClass("is-hidden"):r(".sticky-booking-btn").removeClass("is-hidden")}),r(".header-menu .menu-item-has-children > a").on("click",function(){var o=r(this).closest(".menu-item-has-children");return r(this).toggleClass("is-opened"),r(".sub-menu",o).slideToggle(),!1}),r(".header-nav a").on("click",function(){r(".header").removeClass("is-opened"),r("html").removeClass("disable-scrolling")})},initBooking:function(){r("#booking-popup__calendar--range").dateRangePicker({inline:!0,container:"#booking-popup__calendar--calendar",alwaysOpen:!0,showShortcuts:!1,showTopbar:!1,selectForward:!0,singleMonth:!0,startDate:new Date}).bind("datepicker-change",function(o,i){!function(){var o=r(".booking-popup").attr("data-default-url"),i=r("#booking-popup__calendar--range").val();if(i){var e=i.split(" to ");e[0]&&(o+="&arrive="+e[0]),e[1]&&(o+="&depart="+e[1])}r(".booking-submit").attr("href",o)}()}),r(".btn-booking-popup").on("click",function(){return r("html, body").addClass("disable-scrolling"),r(".booking-popup").addClass("is-opened"),!1}),r(".booking-popup__close, #booking_cancel").on("click",function(){r("html, body").removeClass("disable-scrolling"),r(".header").removeClass("header--booking"),r(this).hasClass("header-cta--mobile")&&r(this).show(),r(".booking-popup").removeClass("is-opened")})},bindEvents:function(){var o=this;r(document).on("ready",function(){o.smoothScrollLinks(),i(".page-navigation",e.initPageNavigation),i(".hp-rooms",e.initHPRooms),i(".hp-taste__media",e.initHPTastes),i(".hp-explore__images",e.initExploreImages),i(".rooms-block",e.initRoomsSlider),i(".gallery-grid",e.initGalleryGrid),i(".room-related",e.initRoomRelated),r(".btn-scroll-next").on("click",function(){var o=r(this).closest("section").next().offset().top;r("html, body").animate({scrollTop:o},500)}),r(".learn-video__play").on("click",function(){r(this).toggleClass("is-playing"),r(this).hasClass("is-playing")?r(".learn-video__video video").get(0).play():r(".learn-video__video video").get(0).pause()}),r(".link-back").on("click",function(){if(document.referrer&&-1!==document.referrer.indexOf("rooms"))return window.history.back(),!1})}),r(window).on("scroll",function(){})},initAnimations:function(){o(".a-up","fadeInUp",!0),o(".a-down","fadeInDown"),o(".a-left","fadeInLeft"),o(".a-right","fadeInRight"),o(".a-op","fade")},smoothScrollLinks:function(){r('a[href^="#"').on("click touchstart",function(){var o=r(this).attr("href");if("#"!==o&&0<r(o).length){var i=r(o).offset().top-r("header").outerHeight();r(".page-navigation").length&&(i-=r(".page-navigation").outerHeight()),r("html, body").animate({scrollTop:i},500)}return!1})},initPageNavigation:function(){var o=r(".page-navigation__link"),a=r(".page-navigation"),n=a.outerHeight();r(window).on("scroll",function(){var e,t=r(this).scrollTop();o.each(function(){if(0!==r(this.hash).length){e=window.matchMedia("(max-width: 768px)").matches?0:r(window).height()/2;var o=r(this.hash).offset().top-n-e,i=o+r(this.hash).outerHeight()-e;o<=t&&t<=i&&(a.find(".page-navigation__link").removeClass("is-active"),a.find('a[href="'+r(this).attr("href")+'"]').addClass("is-active"))}}),(r("body").hasClass("page-template-dinings")||r("body").hasClass("page-template-gather")||r("body").hasClass("page-template-events")||r("body").hasClass("page-template-events-calendar"))&&(r(window).scrollTop()>=r(".default-banner").outerHeight()?r(".page-navigation").addClass("is-visible"):r(".page-navigation").removeClass("is-visible"))})},initHPRooms:function(){1<r(".hp-rooms__slide").length&&(r(".hp-rooms__carousel").slick({arrows:!1,dots:!1,fade:!0,asNavFor:".hp-rooms__caption"}),r(".hp-rooms__caption").slick({arrows:!1,dots:!1,fade:!0,asNavFor:".hp-rooms__carousel"})),r(".hp-rooms__thumbnail").hover(function(){var o=r(this).index();r(".hp-rooms__carousel").slick("slickGoTo",o)}),r(".hp-rooms__thumbnail").on("click",function(){var o=r(this).index();r(".hp-rooms__carousel").slick("slickGoTo",o)})},initHPTastes:function(){r("body").hasClass("page-template-rooms")?1<r(".hp-taste__media img").length&&r(".hp-taste__media").slick({arrows:!1,dots:!1,fade:!0,autoplay:!0}):(r(".hp-taste__media").each(function(){1<r(".hp-taste__slide",this).length&&r(this).slick({arrows:!1,dots:!1,fade:!0})}),r(".hp-taste__link").on("mouseover",function(){var o=r(this).index();r(".hp-taste__media").slick("slickGoTo",o)}),r(".hp-taste__link").on("touchstart",function(){var o=r(this).index();r(".hp-taste__link").removeClass("is-active"),r(this).addClass("is-active"),r(".hp-taste__media").slick("slickGoTo",o)}))},initExploreImages:function(){1<r(".hp-explore__image").length&&(r(".hp-explore__images").slick({arrows:!1,dots:!1,fade:!0,asNavFor:".hp-explore__caption"}),r(".hp-explore__caption").slick({arrows:!1,dots:!1,fade:!0,asNavFor:".hp-explore__images"})),r(".hp-explore__link").on("mouseover",function(){var o=r(this).index();r(".hp-explore__images").slick("slickGoTo",o)}),r(".hp-explore__link").on("touchstart",function(){var o=r(this).index();r(".hp-explore__link").removeClass("is-active"),r(this).addClass("is-active"),r(".hp-explore__images").slick("slickGoTo",o)})},initRoomsSlider:function(){r(".rooms-slider").each(function(){var s=r(this).closest(".rooms-block");1<r(".loop-room",this).length?(r(this).on("init reInit afterChange",function(o,i,e,t){var a=(e||0)+1,n=i.slideCount;r(".slick-pagination",s).text("".concat(a," of ").concat(n))}),r(this).slick({arrows:!0,dots:!1,nextArrow:r(".btn-slick-next",s),prevArrow:r(".btn-slick-prev",s),draggable:!1,autoplay:!1}),r(".slick-slide:not(.slick-cloned) .loop-room__carousel",this).each(function(){var o=r(this).attr("id");r().fancybox({selector:".slick-slide:not(.slick-cloned) #".concat(o," .loop-room__slide:not(.slick-cloned)"),hash:!1,backFocus:!1,animationEffect:"fade",buttons:["close"],afterShow:function(o,i){i.opts.$orig.closest(".slick-initialized").slick("slickGoTo",parseInt(i.index),!0)}})})):r(".loop-room__carousel",this).each(function(){var o=r(this).attr("id");r().fancybox({selector:"#".concat(o," .loop-room__slide:not(.slick-cloned)"),hash:!1,backFocus:!1,animationEffect:"fade",buttons:["close"],afterShow:function(o,i){i.opts.$orig.closest(".slick-initialized").slick("slickGoTo",parseInt(i.index),!0)}})}),r(".loop-room__carousel",this).each(function(){r(this).on("init reInit afterChange",function(o){o.stopPropagation()}),r(this).slick({arrows:!1,dots:!1,autoplaySpeed:5e3,pauseOnHover:!1})})}),r(".rooms-grid").each(function(){r(".loop-room__carousel",this).each(function(){var o=r(this).attr("id");r().fancybox({selector:"#".concat(o," .loop-room__slide:not(.slick-cloned)"),hash:!1,backFocus:!1,animationEffect:"fade",buttons:["close"],afterShow:function(o,i){i.opts.$orig.closest(".slick-initialized").slick("slickGoTo",parseInt(i.index),!0)}}),r(this).on("init reInit afterChange",function(o){o.stopPropagation()}),r(this).slick({arrows:!1,dots:!1,autoplaySpeed:5e3,pauseOnHover:!1})})})},initGalleryGrid:function(){r(".gallery-category").on("click",function(){var o=r(this).attr("data-target");if(!r(this).hasClass("is-active"))return r(".gallery-category.is-active").removeClass("is-active"),r(this).addClass("is-active"),function(o){var e=r(".gallery-grid");r.ajax({url:ajaxurl,type:"POST",data:{action:"loadAjaxGallery",pid:o},beforeSend:function(){e.html('<div class="lds-wrapper"><div class="lds-ring"><div></div><div></div><div></div><div></div></div></div>')},success:function(o){var i=r.parseJSON(o).output;e.html(i)},complete:function(){}})}(o),!1})},initRoomRelated:function(){r(".loop-room__carousel").each(function(){var o=r(this).attr("id");r().fancybox({selector:"#".concat(o," .loop-room__slide:not(.slick-cloned)"),hash:!1,backFocus:!1,animationEffect:"fade",buttons:["close"],afterShow:function(o,i){i.opts.$orig.closest(".slick-initialized").slick("slickGoTo",parseInt(i.index),!0)}}),r(this).on("init reInit afterChange",function(o){o.stopPropagation()}),r(this).slick({arrows:!1,dots:!1,autoplaySpeed:5e3,pauseOnHover:!1})})}};e.init(),r('dd a[target="_self"]').attr("target","_blank")}(jQuery);